<div class="container-fluid">
  <div class="row">
    <div class="col-md-12 breadcumb">
      <a class="link" routerLink="/dashboard">Dashboard</a>
      <i class="pi pi-angle-right"></i>
      <a class="link" routerLink="/agencies/partners">Partner</a>
      <i class="pi pi-angle-right"></i>
      <span>{{ id ? "Edit" : "Add" }} Partner</span>
    </div>
  </div>
  <div class="row mt-3">
    <div class="col-md-6 my-auto">
      <h5 class="my-auto">{{ id ? "Edit" : "Add" }} Partner</h5>
    </div>
  </div>
  <form [formGroup]="formData" (ngSubmit)="onSubmit()">
    <div class="row mt-3">

      <div class="col-md-8">
        <div class="row py-2">
          <div class="p-fluid">
            <div class="p-field">
              <label>Partner Name</label>
              <input
                type="text"
                formControlName="name"
                pInputText
                placeholder="Enter Partner Name"
              />
            </div>
            <div *ngIf="validation.name.errors && validation.name.dirty">
              <div class="text-danger" *ngIf="validation.name?.errors?.required">
                Field is required!
              </div>
            </div>



          </div>
        </div>
         <div class="row py-2">
          <div class="p-fluid">
            <label>Country</label> <br />
            <p-dropdown
              [options]="countries"
              formControlName="country"
              optionLabel="name"
              [filter]="true"
              filterBy="name"
              placeholder="Select a Country"
            >
              <ng-template pTemplate="selectedItem">
                <div
                  class="country-item country-item-value d-flex"
                  *ngIf="formData.value.country"
                >
                  <img [src]="formData.value.country.imgUrl" class="flag" />
                  <div>{{ formData.value.country.name }}</div>
                </div>
              </ng-template>
              <ng-template let-country pTemplate="item">
                <div class="d-flex">
                  <img [src]="country.imgUrl" class="flag" />
                  <div>{{ country.name }}</div>
                </div>
              </ng-template>
            </p-dropdown>
            <div *ngIf="validation.country.errors && validation.country.dirty">
              <div
                class="text-danger"
                *ngIf="validation.country?.errors?.required"
              >
                Field is required!
              </div>
            </div>
          </div>
        </div>
        <div class="row py-2">
          <div class="p-fluid">
            <div class="p-field">
              <label>Partner City</label>
              <input
                type="text"
                formControlName="city"
                pInputText
                placeholder="Enter Partner City"
              />
            </div>
            <div *ngIf="validation.city.errors && validation.city.dirty">
              <div class="text-danger" *ngIf="validation.city?.errors?.required">
                Field is required!
              </div>
            </div>



          </div>
        </div>
            <div class="row py-2">
          <div class="p-fluid">
            <div class="p-field">
              <label>Partner Address</label>
              <input
                type="text"
                formControlName="address"
                pInputText
                placeholder="Enter Partner Address"
              />
            </div>
            <div *ngIf="validation.address.errors && validation.address.dirty">
              <div class="text-danger" *ngIf="validation.address?.errors?.required">
                Field is required!
              </div>
            </div>



          </div>
        </div>
      </div>

      <div class="col-md-4">
        <div class="p-field mt-3">
          <img [src]="imageSrc" class="cursor-pointer rounded-circle" (click)="file.click()" width="90px"
              height="90px" alt=""><br>
          <label>Upload Partner Pic</label>
          <input #file type="file" formControlName="file" class="d-none" (change)="onSelectFile($event)">
      </div>
      <div *ngIf="validation.file.errors && validation.file.dirty">
          <div class="text-danger" *ngIf="validation.file?.errors?.required">Field is required!</div>
      </div>
      </div>

      <div class="text-left">
        <button
          class="btn btn-primary mt-4"
          type="submit"
          [disabled]="formData.invalid"
        >
          Save
        </button>
      </div>
    </div>
  </form>

  <br /><br /><br />
</div>
